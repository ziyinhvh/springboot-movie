{"remainingRequest":"E:\\Spring\\springboot-movie\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Spring\\springboot-movie\\vue-app\\src\\views\\film\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Spring\\springboot-movie\\vue-app\\src\\views\\film\\Index.vue","mtime":1686536284546},{"path":"E:\\Spring\\springboot-movie\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Spring\\springboot-movie\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7QWRkRmlsbUV2YWx1YXRlLCBGaW5kRmlsbUJ5SWQsIEZpbmRGaWxtRXZhbHVhdGVCeUZJZH0gZnJvbSAiQC9hcGkvZmlsbSI7CmltcG9ydCB7TWVzc2FnZUJveH0gZnJvbSAiZWxlbWVudC11aSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZpbG0iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTI6IG51bGwsCiAgICAgIGNvbG9yczogWycjOTlBOUJGJywgJyNGN0JBMkEnLCAnI0ZGOTkwMCddLAogICAgICBmaWxtSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpZCwKICAgICAgdmFsdWU6IDMuNSwKICAgICAgbGlzdDogW3t9LCB7fSwge31dLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZmlsbToge30sCiAgICAgIGV2YWx1YXRlTGlzdDogW10sCiAgICAgIGZvcm06IHsKICAgICAgICBmaWQ6ICcnLAogICAgICAgIHVpZDogJycsCiAgICAgICAgc3RhcjogNSwKICAgICAgICBjb21tZW50OiAnJywKICAgICAgfSwKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CgogICAgb3BlbkNvbW1lbnQoKSB7CiAgICAgIC8vIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVpZCIpKSB7CiAgICAgIC8vICAgdGhpcy4kY29uZmlybSgn57O757uf6L+Y5rKh5pyJ5qOA5rWL5Yiw5oKo55qE55m76ZmG5L+h5oGvLCDmmK/lkKbljrvnmbvlvZU/JywgJ+aPkOekuicsIHsKICAgICAgLy8gICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgLy8gICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAvLyAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIC8vICAgfSkudGhlbigoKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIikKICAgICAgLy8gICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgLy8gICAgICAgdHlwZTogJ2luZm8nLAogICAgICAvLyAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Li655S15b2x6K+E5YiGJwogICAgICAvLyAgICAgfSk7CiAgICAgIC8vICAgfSk7CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICAvLyB9CiAgICAgIE1lc3NhZ2VCb3guYWxlcnQoJ+ivpeWKn+iDveato+WcqOW8gOWPkeS4re+8jOaVrOivt+acn+W+hScsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICB9KTsKICAgIH0sCgogICAgc3VibWl0Q29tbWVudCgpIHsKICAgICAgdGhpcy5mb3JtLmZpZCA9IHRoaXMuZmlsbUlkOwogICAgICB0aGlzLmZvcm0udWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVpZCIpOwogICAgICBjb25zdCBmb3JtID0gdGhpcy5mb3JtCiAgICAgIEFkZEZpbG1FdmFsdWF0ZShmb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIH0pCiAgICB9LAoKICB9LAoKICBtb3VudGVkKCkgewogICAgRmluZEZpbG1CeUlkKHRoaXMuZmlsbUlkKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMuZmlsbSA9IHJlcy5kYXRhOwogICAgfSkKICB9Cn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/film","sourcesContent":["<template>\n  <div class=\"film\">\n\n    <div class=\"film-header\">\n    </div>\n\n    <div class=\"film-card\">\n      <img alt=\"\" style=\"width: 100%;height: 100%\" :src=\"film.cover\">\n    </div>\n\n    <div class=\"film-des\">\n      <div class=\"p1\">{{ film.name }}\n        <el-rate style=\"float: right;padding-left: 50px\"\n                 v-model=\"value\"\n                 disabled\n                 show-score\n                 text-color=\"#ff9900\"\n                 score-template=\"{value}\">\n        </el-rate>\n      </div>\n      <div class=\"p2\">电影类型 : {{ film.type }}</div>\n      <div class=\"p2\">{{ film.region }} / {{ film.duration }}分钟</div>\n      <div class=\"p2\">上映日期 : {{ film.releaseTime }} 上映</div>\n      <div style=\"padding-top: 30px\">\n        <router-link style=\"margin-right: 20px\" :to=\"'/film/ticket?fid=' + filmId\">\n          <el-button type=\"danger\" style=\"width: 130px;letter-spacing: 2px\">\n            <i style=\"padding-right: 5px;font-size: 15px\" class=\"el-icon-s-finance\"></i>特惠购票\n          </el-button>\n        </router-link>\n        <el-button @click=\"openComment\" type=\"danger\" style=\"width: 130px;letter-spacing: 2px\">\n          <i style=\"padding-right: 5px;font-size: 15px\" class=\"el-icon-star-on\"></i>评分\n        </el-button>\n      </div>\n    </div>\n\n    <div class=\"film-content\">\n      <router-view />\n    </div>\n\n    <el-dialog\n        :show-close=false\n        title=\"电影评分\"\n        :visible.sync=\"dialogVisible\"\n        width=\"30%\">\n      <div class=\"block\">\n        <el-rate\n            v-model=\"form.star\"\n            :colors=\"colors\">\n        </el-rate>\n      </div>\n      <el-input\n          style=\"margin-top: 40px\"\n          type=\"textarea\"\n          :rows=\"8\"\n          placeholder=\"请输入内容\"\n          v-model=\"form.comment\">\n      </el-input>\n      <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"submitComment\">确 认 提 交</el-button>\n             </span>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {AddFilmEvaluate, FindFilmById, FindFilmEvaluateByFId} from \"@/api/film\";\nimport {MessageBox} from \"element-ui\";\n\nexport default {\n  name: \"Film\",\n  data() {\n    return {\n      value2: null,\n      colors: ['#99A9BF', '#F7BA2A', '#FF9900'],\n      filmId: this.$route.query.fid,\n      value: 3.5,\n      list: [{}, {}, {}],\n      dialogVisible: false,\n      film: {},\n      evaluateList: [],\n      form: {\n        fid: '',\n        uid: '',\n        star: 5,\n        comment: '',\n      },\n    }\n  },\n\n  methods: {\n\n    openComment() {\n      // if (!localStorage.getItem(\"uid\")) {\n      //   this.$confirm('系统还没有检测到您的登陆信息, 是否去登录?', '提示', {\n      //     confirmButtonText: '确定',\n      //     cancelButtonText: '取消',\n      //     type: 'warning'\n      //   }).then(() => {\n      //     this.$router.push(\"/login\")\n      //   }).catch(() => {\n      //     this.$message({\n      //       type: 'info',\n      //       message: '已取消为电影评分'\n      //     });\n      //   });\n      // } else {\n      //   this.dialogVisible = true\n      // }\n      MessageBox.alert('该功能正在开发中，敬请期待', '提示', {\n        confirmButtonText: '确定',\n      });\n    },\n\n    submitComment() {\n      this.form.fid = this.filmId;\n      this.form.uid = localStorage.getItem(\"uid\");\n      const form = this.form\n      AddFilmEvaluate(form).then(res => {\n        this.dialogVisible = false;\n      })\n    },\n\n  },\n\n  mounted() {\n    FindFilmById(this.filmId).then(res => {\n      this.film = res.data;\n    })\n  }\n}\n</script>\n\n<style scoped>\n\n.film-header {\n  position: relative;\n  width: 100%;\n  height: 380px;\n  background: #5a84fd;\n  margin-top: 12px;\n}\n\n.film-content {\n  padding: 80px 200px;\n  letter-spacing: 2px;\n}\n\n.p1 {\n  font-weight: bolder;\n  letter-spacing: 3px;\n  color: #FFFFFF;\n  font-size: 30px;\n  padding-top: 20px;\n  padding-bottom: 10px;\n}\n\n.p2 {\n  font-size: 14px;\n  padding-top: 20px;\n  letter-spacing: 2px;\n  color: #FFFFFF;\n}\n\n.film-card {\n  width: 240px;\n  height: 330px;\n  background: #FFFFFF;\n  margin-right: 100px;\n  margin-left: 190px;\n  position: absolute;\n  overflow: hidden;\n  top: 160px;\n  z-index: 999;\n}\n\n.film-des {\n  margin-left: 500px;\n  position: absolute;\n  overflow: hidden;\n  top: 150px;\n  z-index: 999;\n}\n\n>>> .el-rate__icon {\n  font-size: 25px;\n}\n\n>>> .el-rate__text {\n  padding-left: 8px;\n  font-size: 30px;\n}\n\n</style>\n"]}]}